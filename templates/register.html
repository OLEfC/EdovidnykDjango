{% load static %}



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>–Ñ–¥–æ–≤—ñ–¥–Ω–∏–∫</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
    $(document).ready(function () {
    $('input').focus(function () {
        $(this).css('background-color', '#cccccc');
    }).blur(function () {
        $(this).css('background-color', '#ffffff');
    });

    $('button.smallbtn').click(function () {
        $(this).toggleClass('active');
    });

    $('#registration-form button[type="submit"]').click(function (e) {
        e.preventDefault(); // Prevent the default form submission
        if (validateAndSubmitForm('registration-form')) {
            $('#registration-form').submit(); // Submit the registration form if validation passes
        }
    });

    $('.login button[type="submit"]').click(function (e) {
        // Handle login form submission here if needed
    });
});

function validateAndSubmitForm(formId) {
    if (validateForm(formId)) {
        return true; // Return true to indicate validation success
    }
    return false; // Return false to indicate validation failure
}

function validateForm(formId) {
    var form = $('#' + formId);
    var password = form.find('input[type="password"]').val();
    var confirmPassword = form.find('input[name="confirmPassword"]').val();
    var login = form.find('input[name="login"]').val();
    var email = form.find('input[name="email"]').val();

    if (!login || !password || !confirmPassword || !email) {
    alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è.");
    return false;
}

    if (password !== confirmPassword) {
        alert("–ü–∞—Ä–æ–ª—ñ –Ω–µ —Å–ø—ñ–≤–ø–∞–¥–∞—é—Ç—å.");
        return false;
    }

    if (!isValidEmail(email)) {
        alert("–í–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω—É –∞–¥—Ä–µ—Å—É –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—ó –ø–æ—à—Ç–∏.");
        return false;
    }

    if (!isValidPassword(password)) {
        alert("–ü–∞—Ä–æ–ª—å –ø–æ–≤–∏–Ω–µ–Ω –º—ñ—Å—Ç–∏—Ç–∏ –Ω–µ –º–µ–Ω—à–µ 8 —Å–∏–º–≤–æ–ª—ñ–≤, –ª—ñ—Ç–µ—Ä–∏ –≤–µ—Ä—Ö–Ω—å–æ–≥–æ —ñ –Ω–∏–∂–Ω—å–æ–≥–æ —Ä–µ–≥—ñ—Å—Ç—Ä—É, –∞ —Ç–∞–∫–æ–∂ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π —Å–∏–º–≤–æ–ª.");
        return false;
    }

    return true;
}


        function isValidEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }
        
        function isValidPassword(password) {
            // Password pattern for validation
            var passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
            return passwordPattern.test(password);
        }
        
        function togglePasswordVisibility(id) {
            var passwordInput = document.getElementById(id);
            var passwordButton = document.querySelector(`button[data-toggle="${id}"]`);
            if (passwordInput.type === "password") {
                passwordInput.type = "text";
                passwordButton.textContent = "üëÅÔ∏è";
            } else {
                passwordInput.type = "password";
                passwordButton.textContent = "üëÅ";
            }
        }
        </script>
        
    
    <style>
        /* –í–∞—à CSS –∫–æ–¥ */

        /* –î–æ–¥–∞—Ç–∫–æ–≤–∏–π CSS –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ü–æ–∫–∞–∑–∞—Ç–∏ –ø–∞—Ä–æ–ª—å" */
        .password-field {
            position: relative;
        }

       

        .password-field button {
            position: absolute;
            right: 0;
            top: 35%;
            left: 135px;
            transform: translateY(-50%);
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 20px;
        }
    </style>
</head>
<body class="logform">
    <main>
        
        <form class="inputform" action="/register/" method="post" id="registration-form">
            {% csrf_token %}

            <a href="/login"style="  border-radius: 100px;
            border: 1px solid #000;
            background: #f0f0f0;  text-align: center; color:#000" class="smallbtn">–í—Ö—ñ–¥</a>
            <a href="/register" style="  border-radius: 100px;
            border: 1px solid #000;
            background: #f0f0f0;  text-align: center; color:#000"class="smallbtn">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</a>

            <div class="registration">
                <label>–õ–æ–≥—ñ–Ω</label>
                <input type="text" name="login">
                <label>–ü–∞—Ä–æ–ª—å</label>
                <div class="password-field">
                    <input type="password" id="registrationPassword" name="password">
                    <button type="button" data-toggle="registrationPassword" onclick="togglePasswordVisibility('registrationPassword')">üëÅ</button>
                </div>
                <label>–ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å</label>
                <div class="password-field">
                    <input type="password" id="confirmPassword" name="confirmPassword">
                    <button type="button" data-toggle="confirmPassword" onclick="togglePasswordVisibility('confirmPassword')">üëÅ</button>
                </div>
                <label>–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –∞–¥—Ä–µ—Å–∞</label>
                <input type="text" name="email">
                
                <button class="bigbtn" type="submit">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
            </div>
        </form>
    </main>
</body>
</html>